<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:ResourceViewModels="clr-namespace:InitManage.ViewModels.Resource"
    xmlns:DataTemplates="clr-namespace:InitManage.Views.DataTemplates"
    x:Class="InitManage.Views.Pages.ResourcesPage"
    x:DataType="ResourceViewModels:ResourcesViewModel"
    BackgroundColor="{AppThemeBinding Light={StaticResource Light}, Dark={StaticResource Dark}}"
    NavigationPage.HasNavigationBar="False"
    IconImageSource="book"
    Title="Menu">

    <Grid RowDefinitions="Auto, *">
        <Grid Margin="10" RowDefinitions="Auto, Auto, Auto" RowSpacing="5">
            <SearchBar Text="{Binding SearchBarText}"/>
            <Grid ColumnDefinitions="Auto, Auto, *" ColumnSpacing="5" Grid.Row="1">
                <Picker
                    Title="Places"
                    SelectedItem="{Binding SelectedCapacity}"
                    ItemsSource="{Binding ResourcesCapacities}"/>
                <Picker
                    Grid.Column="1"
                    Title="Options"
                    ItemsSource="{Binding ResourcesTypes}"
                    SelectedIndex="{Binding SelectedType}"/>
                <Entry
                    Grid.Column="2"
                    Placeholder="Adresse"
                    Text="{Binding Address}"/>
            </Grid>
            <Grid ColumnDefinitions="*, Auto, *" Grid.Row="2">
                <DatePicker
                    Date="{Binding StartDate}"
                    MaximumDate="{Binding EndDate}"/>
                <Label
                    Text="=>"
                    Grid.Column="1"
                    VerticalOptions="Center"/>
                <DatePicker
                    Grid.Column="2"
                    Date="{Binding EndDate}"
                    MinimumDate="{Binding StartDate}"/>
            </Grid>
        </Grid>

        <Ellipse
            Margin="160"
            Grid.Row="1"
            WidthRequest="50"
            HeightRequest="50"
            VerticalOptions="End"
            HorizontalOptions="End"/>

        <Ellipse
            Margin="70"
            Grid.Row="1"
            WidthRequest="100"
            HeightRequest="100"
            VerticalOptions="End"
            HorizontalOptions="End"/>

        <Ellipse
            Margin="-90"
            Grid.Row="1"
            WidthRequest="200"
            HeightRequest="200"
            VerticalOptions="End"
            HorizontalOptions="End"/>

        <CollectionView Grid.Row="1" Margin="10, 0" ItemsSource="{Binding Resources}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <DataTemplates:ResourceDataTemplate/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentPage>
